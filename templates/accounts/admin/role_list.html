{% extends 'base.html' %}
{% load static %}

{% block title %}Role Management{% endblock %}

{% block extra_css %}
<style>
    .role-management {
        padding: 120px 0 80px;
        min-height: 100vh;
    }

    .page-header {
        background: var(--card-bg);
        border-radius: 30px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: var(--shadow);
        border: var(--border);
        animation: slideInDown 0.8s ease;
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 20px;
    }

    .page-title { font-size: 2rem; font-weight: 700; color: var(--text-primary); font-family: 'Playfair Display', serif; margin: 0; }
    .page-title i { color: var(--primary-pink); margin-right: 15px; }

    .btn-create { background: linear-gradient(135deg, var(--primary-pink), var(--dark-pink)); color: white; border: none; padding: 15px 30px; border-radius: 15px; font-weight: 600; display: flex; align-items: center; gap: 10px; transition: all 0.3s ease; text-decoration: none; }
    .btn-create:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(123, 44, 191, 0.4); color: white; }

    .roles-table-container { background: var(--card-bg); border-radius: 30px; padding: 25px; box-shadow: var(--shadow); border: var(--border); animation: fadeInUp 0.8s ease 0.2s both; overflow-x: auto; }
    .roles-table { width: 100%; border-collapse: collapse; }
    .roles-table th, .roles-table td { padding: 15px; border-bottom: var(--border); }
    .roles-table th { text-align: left; color: var(--text-secondary); font-weight: 600; font-size: 0.95rem; text-transform: uppercase; letter-spacing: 1px; }
    .roles-table tbody tr:hover { background: rgba(123, 44, 191, 0.05); transform: scale(1.01); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

    .action-buttons { display: flex; gap: 10px; }
    .action-btn { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; text-decoration: none; }
    .action-btn.view { background: rgba(9, 132, 227, 0.1); color: #0984e3; }
    .action-btn.edit { background: rgba(0, 184, 148, 0.1); color: #00b894; }
    .action-btn.delete { background: rgba(214, 48, 49, 0.1); color: #d63031; }
    .action-btn:hover { transform: translateY(-3px) scale(1.1); }

    @media (max-width: 768px) { .page-header { flex-direction: column; text-align: center; } .action-buttons { justify-content: center; } }
</style>
{% endblock %}

{% block content %}
<div class="role-management">
    <div class="container">
        <div class="page-header">
            <h1 class="page-title"><i class="fas fa-user-shield"></i> Role Management</h1>
            <a href="{% url 'accounts:role_create' %}" class="btn-create"><i class="fas fa-plus-circle"></i> Create Role</a>
        </div>
        <div class="roles-table-container">
            <table class="roles-table">
                <thead>
                    <tr><th>Name</th><th>Description</th><th>Actions</th></tr>
                </thead>
                <tbody>
                    {% for role in roles %}
                    <tr>
                        <td>{{ role.name }}</td>
                        <td>{{ role.description }}</td>
                        <td>
                            <div class="action-buttons">
                                <a href="{% url 'accounts:role_edit' role.id %}" class="action-btn edit" title="Edit"><i class="fas fa-edit"></i></a>
                                <a href="{% url 'accounts:role_delete' role.id %}" class="action-btn delete" title="Delete" onclick="return confirm('Delete this role?');"><i class="fas fa-trash"></i></a>
                            </div>
                        </td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="3" class="text-center py-5">No roles defined</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
